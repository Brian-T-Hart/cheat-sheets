<script>
  (function () {
    window.dataLayer = window.dataLayer || [];
    var fired = false;
    var eventName = 'user_interaction';

    // If thank you page, fire event immediately
    if (window.location.pathname.toLowerCase().includes('thank')) {
      window.dataLayer.push({ event: eventName });
      return;
    }

    function fire(e) {
      // only fire once and on non programmatic triggers
      if (fired || (e && e.isTrusted === false)) return;

      // push event to dataLayer
      fired = true;
      window.dataLayer.push({ event: eventName });

      // Remove all listeners after event fires
      removeEventListener('pointerdown', fire, true);
      removeEventListener('pointermove', fire, true);
      removeEventListener('keydown', fire, true);
      removeEventListener('scroll', fire, true);
    }

    // Set up event listeners
    addEventListener('pointerdown', fire, { passive: true, capture: true });
    addEventListener('pointermove', fire, { passive: true, capture: true });
    addEventListener('keydown', fire, { capture: true });
    addEventListener('scroll', fire, { passive: true, capture: true });
  })();
</script>