<script>
  (function () {
    window.dataLayer = window.dataLayer || [];
    var interactionFired = false;
    var interactionEvent = 'user_interaction';

    // If thank you page, fire event immediately
    if (window.location.pathname.includes('thank')) {
      interactionFired = true;
      window.dataLayer.push({ event: interactionEvent });
      return;
    }

    function fireInteraction() {
      if (!interactionFired) {
        interactionFired = true;
        window.dataLayer.push({ event: interactionEvent });

        // Remove all listeners after firing
        document.documentElement.removeEventListener('click', fireInteraction);
        document.documentElement.removeEventListener('mouseenter', fireInteraction);
        document.documentElement.removeEventListener('keydown', fireInteraction);
        document.documentElement.removeEventListener('scroll', fireInteraction, { passive: true });
        document.documentElement.removeEventListener('touchstart', fireInteraction, { passive: true });
      }
    }// fireInteraction

    // Set up event listeners
    document.documentElement.addEventListener('click', fireInteraction);
    document.documentElement.addEventListener('mouseenter', fireInteraction);
    document.documentElement.addEventListener('keydown', fireInteraction);
    document.documentElement.addEventListener('scroll', fireInteraction, { passive: true });
    document.documentElement.addEventListener('touchstart', fireInteraction, { passive: true });
  })();
</script>